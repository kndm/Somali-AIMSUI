<div class="container-fluid view-area">
  <block-ui>

    <div class="row">
      <div class="col-md-12">
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <a [ngClass]="{'btn-info': currentTab == 'project', 'text-info': currentTab != 'project'}" href="#"
              class="nav-link text-info" (click)="showProjectTab()" data-toggle="tab">Project help</a>
          </li>
          <li class="nav-item">
            <a [ngClass]="{'btn-info': currentTab == 'funder', 'text-info': currentTab != 'funder'}" href="#"
              class="nav-link text-info" (click)="showFunderTab()" data-toggle="tab">Funder help</a>
          </li>
          <li class="nav-item">
            <a [ngClass]="{'btn-info': currentTab == 'implementer', 'text-info': currentTab != 'implementer'}" href="#"
              class="nav-link text-info" (click)="showImplementerTab()" data-toggle="tab">Implementer help</a>
          </li>
          <li class="nav-item">
            <a [ngClass]="{'btn-info': currentTab == 'disbursement', 'text-info': currentTab != 'disbursement'}"
              href="#" class="nav-link text-info" (click)="showDisbursementTab()" data-toggle="tab">Disbursements help
            </a>
          </li>
          <li class="nav-item">
            <a [ngClass]="{'btn-info': currentTab == 'document', 'text-info': currentTab != 'document'}" href="#"
              class="nav-link text-info" (click)="showDocumentTab()" data-toggle="tab">Documents help
            </a>
          </li>
        </ul>
      </div>
    </div>

    <div class="row">

      <div *ngIf="currentTab == 'project' && !isProjectLoading" class="col-md-12 margin-top-10">
        <div class="card card-signin my-5 margin-top-10">
          <div class="card-body">
            <h5>Help for project fields</h5>
            <form (ngSubmit)="projectForm.form.valid && saveProjectHelp(projectForm)" #projectForm="ngForm">
              <div class="form-group">
                <label for="title">Title help</label>
                <input type="text" class="form-control" [(ngModel)]="projectModel.title" id="title" name="title" #title="ngModel"
                  maxlength="{{helpTextLimit}}" required />

                <div *ngIf="projectForm.submitted" [hidden]="title.valid" class="alert alert-danger">
                  Help for title is required
                </div>
              </div>
              <div class="form-group">
                <label>Starting financial year help</label>
                <input type="text" class="form-control" [(ngModel)]="projectModel.startingFinancialYear"
                  name="startingFinancialYear" #startingFinancialYear="ngModel" maxlength="{{helpTextLimit}}"
                  required />
                <div *ngIf="projectForm.submitted" [hidden]="startingFinancialYear.valid" class="alert alert-danger">
                  Help for starting financial year is required
                </div>
              </div>
              <div class="form-group">
                <label>Ending financial year help</label>
                <input type="text" class="form-control" [(ngModel)]="projectModel.endingFinancialYear"
                  name="endingFinancialYear" #endingFinancialYear="ngModel" maxlength="{{helpTextLimit}}" required />
                <div *ngIf="projectForm.submitted" [hidden]="endingFinancialYear.valid" class="alert alert-danger">
                  Help for ending financial year is required
                </div>
              </div>
              <div class="form-group">
                <label>Funding type help</label>
                <input type="text" class="form-control" [(ngModel)]="projectModel.fundingType" name="fundingType"
                  #fundingType="ngModel" maxlength="{{helpTextLimit}}" required />
                <div *ngIf="projectForm.submitted" [hidden]="fundingType.valid" class="alert alert-danger">
                  Help for funding type is required
                </div>
              </div>
              <div class="form-group">
                <label>Project value help</label>
                <input type="text" class="form-control" [(ngModel)]="projectModel.projectValue" name="projectValue"
                  #projectValue="ngModel" maxlength="{{helpTextLimit}}" required />
                  <div *ngIf="projectForm.submitted" [hidden]="projectValue.valid" class="alert alert-danger">
                    Help for project value is required
                  </div>
              </div>
              <div class="form-group">
                <label>Project currency help</label>
                <input type="text" class="form-control" [(ngModel)]="projectModel.projectCurrency" name="projectCurrency"
                  #projectCurrency="ngModel" maxlength="{{helpTextLimit}}" required />
                  <div *ngIf="projectForm.submitted" [hidden]="projectCurrency.valid" class="alert alert-danger">
                    Help for project currency is required
                  </div>
              </div>
              <div class="form-group">
                <label>Description help</label>
                <input type="text" class="form-control" [(ngModel)]="projectModel.description" name="description"
                  #description="ngModel" maxlength="{{helpTextLimit}}" required />
                <div *ngIf="projectForm.submitted" [hidden]="description.valid" class="alert alert-danger">
                  Help for description is required
                </div>
              </div>
              <button type="submit" class="btn btn-info mb-2 text-uppercase">Save help</button>
            </form>
          </div>
        </div>

        <div class="row text-center" *ngIf="isProjectLoading">
          <div class="col-md-12">
            <img src="assets/images/loader-md.gif" /><span>&nbsp;Loading project help fields...</span>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="currentTab == 'funder'" class="col-md-12 margin-top-10">
      <div class="card card-signin my-5 margin-top-10">
        <div class="card-body">
          <h5>Help for funder fields</h5>
          <form (ngSubmit)="funderForm.form.valid && saveProjectFunderHelp(funderForm)" #funderForm="ngForm">
            <div class="form-group">
              <label>Funder help</label>
              <input type="text" class="form-control" [(ngModel)]="funderModel.funder" name="funder" #funder="ngModel"
                maxlength="{{helpTextLimit}}" />
            </div>
            <button type="submit" class="btn btn-info mb-2 text-uppercase">Save help</button>
          </form>
        </div>
      </div>

      <div class="row text-center" *ngIf="isFunderLoading">
        <div class="col-md-12">
          <img src="assets/images/loader-md.gif" /><span>&nbsp;Loading project funder help fields...</span>
        </div>
      </div>
    </div>

    <div *ngIf="currentTab == 'implementer'" class="col-md-12 margin-top-10">
      <div class="card card-signin my-5 margin-top-10">
        <div class="card-body">
          <h5>Help for implementer fields</h5>
          <form (ngSubmit)="implementerForm.form.valid && saveProjectImplementerHelp(implementerForm)"
            #implementerForm="ngForm">
            <div class="form-group">
              <label>Implementer help</label>
              <input type="text" class="form-control" [(ngModel)]="implementerModel.implementer" name="implementer"
                #implementer="ngModel" maxlength="{{helpTextLimit}}" />
            </div>
            <button type="submit" class="btn btn-info mb-2 text-uppercase">Save help</button>
          </form>
        </div>
      </div>

      <div class="row text-center" *ngIf="isImplementerLoading">
        <div class="col-md-12">
          <img src="assets/images/loader-md.gif" /><span>&nbsp;Loading project implementer help fields...</span>
        </div>
      </div>
    </div>

  </block-ui>
</div>

<info-modal message={{successMessage}}></info-modal>
<error-modal message={{errorMessage}}></error-modal>