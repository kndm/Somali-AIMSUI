<div class="container-fluid view-area">

  <block-ui>

    <div class="row">
      <div class="col-lg-12 col-md-12">
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <a [ngClass]="{'btn-info': currentTab == 'basic', 'text-info': currentTab != 'basic'}" href="#"
              class="nav-link text-info" (click)="showBasicInfo()" data-toggle="tab">Basic information</a>
          </li>
          <li *ngIf="activeProjectId != 0" class="nav-item">
            <a [ngClass]="{'btn-info': currentTab == 'financials', 'text-info': currentTab != 'financials'}" href="#"
              class="nav-link text-info" (click)="showFinancials()" data-toggle="tab">Financials</a>
          </li>
          <li *ngIf="activeProjectId != 0" class="nav-item">
            <a [ngClass]="{'btn-info': currentTab == 'sectors', 'text-info': currentTab != 'sectors'}" href="#"
              class="nav-link text-info" (click)="showSectors()" data-toggle="tab">Sectors</a>
          </li>
          <li *ngIf="activeProjectId != 0" class="nav-item">
            <a [ngClass]="{'btn-info': currentTab == 'finish', 'text-info': currentTab != 'finish'}" href="#"
              class="nav-link text-info" (click)="showFinish()" data-toggle="tab">Finish</a>
          </li>
        </ul>
      </div>
    </div>
    

    <div *ngIf="!isProjectLoading && currentTab == tabConstants.BASIC" class="col-lg-12 col-md-12">
      <basic-data [projectData]="projectData" [projectDocuments]="currentProjectDocuments"
        [projectFunders]="currentProjectFunders" [projectImplementers]="currentProjectImplementers"
        [financialYears]="financialYears" [organizationsList]="organizationsList" [fundingTypesList]="fundingTypesList"
        [currenciesList]="currenciesList" [projectId]="activeProjectId">
      </basic-data>
    </div>

    <div *ngIf="!isProjectLoading && currentTab == tabConstants.FINANCIALS" class="col-lg-12 col-md-12">
        <financials [projectCurrency]="projectData.projectCurrency" [projectValue]="projectData.projectValue" 
          [exchangeRate]="projectData.exchangeRate" [currenciesList]="currenciesList" [projectDisbursements]="currentProjectDisbursements"
          [startingYear]="projectData.startingFinancialYear" [endingYear]="projectData.endingFinancialYear"
          [projectId]="activeProjectId">
        </financials>
      </div>

      <div *ngIf="!isProjectLoading && currentTab == tabConstants.SECTORS" class="col-lg-12 col-md-12">
          <project-sectors [sectorTypesList]="sectorTypesList" [sectorsList]="sectorsList" 
            [defaultSectorsList]="defaultSectorsList" [defaultSectorTypeId]="defaultSectorTypeId" 
            [projectId]="activeProjectId" [defaultSectorType]="defaultSectorType" [locationsList]="locationsList"
            [currentProjectSectors]="currentProjectSectors" [currentProjectLocations]="currentProjectLocations" >
          </project-sectors>
        </div>

        <div *ngIf="!isProjectLoading && currentTab == tabConstants.FINISH" class="col-lg-12 col-md-12">
          <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
            <div class="card card-signin my-5 margin-top-10">
              <div class="card-body">
                <h6 class="card-title text-center">Finish Project</h6>
    
                <table class="table">
                  <tr>
                    <td>
                      <button class="btn btn-info btn-lg btn-block text-uppercase" (click)="getProjectView()"
                        type="button">Review Project Detail</button>
                    </td>
                  </tr>
    
                  <tr>
                    <td>
                      <button class="btn btn-success btn-lg btn-block text-uppercase" (click)="finishProject()"
                        type="button">Finish Add/Edit Another</button>
                    </td>
                  </tr>
    
                  <tr>
                    <td>
                      <button class="btn btn-danger btn-lg btn-block text-uppercase" (click)="makeDeleteRequest()"
                        type="button">Make a delete Request</button>
                    </td>
                  </tr>
    
                  <tr>
                    <td>
                      <button class="btn btn-warning btn-lg btn-block text-uppercase" (click)="goToHome()"
                        type="button">Finish
                        Project</button>
                    </td>
                  </tr>
                </table>
    
              </div>
            </div>
          </div>
        </div>

  </block-ui>
</div>

<project-info-modal [project]="projectData" [locations]="currentProjectLocations" [sectors]="currentProjectSectors"
  [funders]="currentProjectFunders" [disbursements]="currentProjectDisbursements" [implementers]="currentProjectImplementers" 
  [documents]="currentProjectDocuments" [customFields]="currentProjectMarkers" [isShowContact]="false" [projectId]="activeProjectId">
</project-info-modal>