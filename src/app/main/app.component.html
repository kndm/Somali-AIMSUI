<div class="container-fluid">
  <div class="row">
    <nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-info">
      <a class="navbar-brand" [routerLink]="['/home']">AIMS Somalia</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse">â˜°</button>
      <div class="collapse navbar-collapse" id="navbar-collapse">
        <ul class="nav navbar-nav">
          <li class="nav-item"> 
            <a class="nav-link" [routerLink]="['/home']" routerLinkActive="active-link">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/projects']" routerLinkActive="active-link">View projects</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}"  data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">View
              reports</a>
            <div class="dropdown-menu">
              <h5 class="dropdown-header">Projects</h5>
              <a class="dropdown-item" [routerLink]="['/project-report']">Projects report</a>
              <a class="dropdown-item" [routerLink]="['/sectors-report']">Sectors report</a>
              <a class="dropdown-item" [routerLink]="['/locations-report']">Locations report</a>
              <a class="dropdown-item" [routerLink]="['/sectors-report']">Budget report</a>
              <a class="dropdown-item" [routerLink]="['/project-profile']">Project profile</a>
              <a class="dropdown-item" [routerLink]="['/sectors-report']">Excel report</a>
            </div>
          </li>
          <li *ngIf="isLoggedIn" class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Data entry</a>
            <div class="dropdown-menu">
              <h5 class="dropdown-header">Data entry</h5>
              <a class="dropdown-item" [routerLink]="['/new-project']">Add/edit project data</a>
              <a class="dropdown-item" [routerLink]="['/envelope']">Add/edit envelope data</a>
            </div>
          </li>
          <li *ngIf="isLoggedIn" class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Management</a>
            <div class="dropdown-menu">
              <h5 *ngIf="permissions.canManage" class="dropdown-header">Field management</h5>
              <a *ngIf="permissions.canEditLocation" class="dropdown-item" [routerLink]="['/locations']">Locations</a>
              <a *ngIf="permissions.canEditSector" class="dropdown-item" [routerLink]="['/sector-types']">Sector types</a>
              <a *ngIf="permissions.canEditSector" class="dropdown-item" [routerLink]="['/sectors']">Sectors</a>
              <a *ngIf="permissions.canEditCurrency" class="dropdown-item" [routerLink]="['/currencies']">Currencies</a>
              <a *ngIf="permissions.canEditYear" class="dropdown-item" [routerLink]="['/financial-years']">Financial years</a>
              <a *ngIf="permissions.canEditCustomFields" class="dropdown-item" [routerLink]="['/custom-fields']">Custom fields</a>
              <div class="dropdown-divider"></div>
              <h5 *ngIf="permissions.canManage" class="dropdown-header">Users & organizations management</h5>
              <h5 *ngIf="!permissions.canManage" class="dropdown-header">User management</h5>
              <a class="dropdown-item" [routerLink]="['/manage-account']">Account management</a>
              <!--<a class="dropdown-item" [routerLink]="['/user-subscriptions']">Report subscriptions</a>-->
              <a *ngIf="permissions.canEditOrganization" class="dropdown-item" [routerLink]="['/organizations']">Organizations</a>
              <div class="dropdown-divider"></div>
              <h5 *ngIf="permissions.canManage" class="dropdown-header">AIMS management</h5>
              <a *ngIf="permissions.canDoSMTPSettings" class="dropdown-item" [routerLink]="['/smtp-settings']">Email settings</a>
              <a *ngIf="permissions.canDoIATISettings" class="dropdown-item" [routerLink]="['/iati-settings']">IATI settings</a>
            </div>
          </li>
          <!--<li *ngIf="isLoggedIn" class="nav-item active"> 
            <a class="nav-link" [routerLink]="['/notification']">Notifications <span class="badge badge-pill badge-danger">{{notificationsCount}}</span></a>
          </li>-->
        </ul>
        <ul class="nav navbar-nav ml-auto">
          <li *ngIf="!isLoggedIn" class="nav-item"> <a class="nav-link" [routerLink]="['/login']">Log in</a>
          <li *ngIf="isLoggedIn" class="nav-item"> <a class="nav-link" [routerLink]="" (click)="logout($event)">Log out</a>
        </ul>
      </div>
    </nav>
  </div>
</div>

<div class="container-fluid">
  <router-outlet></router-outlet>
</div>