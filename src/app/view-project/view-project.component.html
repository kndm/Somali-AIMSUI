<div class="container-fluid view-area">
  <block-ui>
    <!--<div class="row text-center">
    <div *ngIf="showMessage" class="alert alert-info alert-dismissible">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <strong>Information!</strong> {{infoMessage}}
    </div>
  </div>-->
    <div class="row">
      <div class="col-md-12">
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <a class="nav-link text-info" data-toggle="tab" [routerLink]="['/projects']">Projects List</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active btn-info" data-toggle="tab">Project Detail</a>
          </li>
        </ul>
      </div>
    </div>

    <div class="row">

    </div>

    <div class="row text-center" *ngIf="isLoading">
      <div class="col-md-12">
        <img src="assets/images/loader-md.gif" /><span>&nbsp;Loading...</span>
      </div>
    </div>

    <div *ngIf="!isLoading" class="row">
      <div class="col margin-top-10">
        <div class="col-md-12">
          <div class="card">
            <div class="card-header">Project Detail</div>
            <div class="card-body">
              <table class="table table-stripped table-responsive">
                <tr>
                  <td><b>Id: </b></td>
                  <td>{{projectData.id}}</td>
                  <td><b>Title: </b></td>
                  <td>{{projectData.title}}</td>
                </tr>
                <tr>
                  <td><b>Start Date: </b></td>
                  <td>{{projectData.startDate}}</td>
                  <td><b>End Date: </b></td>
                  <td>{{projectData.endDate}}</td>
                </tr>
                <tr>
                  <td><b>Description: </b></td>
                  <td colspan="3">
                    {{projectData.description}}
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--Project Locations-->
    <div class="row text-center margin-top-10" *ngIf="isLocationLoading">
      <div class="col-md-12">
        <img src="assets/images/loader-md.gif" /><span>&nbsp;Loading locations...</span>
      </div>
    </div>

    <div *ngIf="!isLocationLoading" class="row">
      <div class="col margin-top-10">
        <div class="col-md-12">
          <div class="card">
            <div class="card-header">
              <span class="float-left">
                Project Locations
              </span>
              <span class="float-right">
                <button class="btn btn-success" (click)="addProjectLocation()">Add Project Location</button>
              </span>
            </div>
            <div class="card-body">
              <table *ngIf="projectLocations.length > 0" class="table table-stripped">
                <tr>
                  <th>Location</th>
                  <th>Latitude</th>
                  <th>Longitude</th>
                  <th>Actions</th>
                </tr>
                <tr *ngFor="let location of projectLocations">
                  <td>{{location.location}}</td>
                  <td>{{location.latitude}}</td>
                  <td>{{location.longitude}}</td>
                  <td>
                    <a title="Remove Location" (click)="deleteProjectLocation(projectId, location.id)" class="btn btn-danger"><i
                        class="fa fa-trash color-white"></i></a>
                  </td>
                </tr>
              </table>
              <p *ngIf="projectLocations.length == 0">No project locations found.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row text-center margin-top-10" *ngIf="isSectorLoading">
      <div class="col-md-12">
        <img src="assets/images/loader-md.gif" /><span>&nbsp;Loading sectors...</span>
      </div>
    </div>

    <div *ngIf="!isSectorLoading" class="row">
      <div class="col margin-top-10">
        <div class="col-md-12">
          <div class="card">
            <div class="card-header">
              <span class="float-left">
                Project Sectors
              </span>
              <span class="float-right">
                <button class="btn btn-success" (click)="addProjectSector()">Add Project Sector</button>
              </span>
            </div>
            <div class="card-body">
              <table *ngIf="projectLocations.length > 0" class="table table-stripped">
                <tr>
                  <th>Id</th>
                  <th>Category</th>
                  <th>Sub-Category</th>
                  <th>Sector Name</th>
                  <th>Actions</th>
                </tr>
                <tr *ngFor="let sector of projectSectors">
                  <td>{{sector.id}}</td>
                  <td>{{sector.category}}</td>
                  <td>{{sector.subCategory}}</td>
                  <td>{{sector.sectorName}}</td>
                  <td>
                    <a title="Remove Location" (click)="deleteProjectSector(projectId, sector.id)" class="btn btn-danger"><i class="fa fa-trash color-white"></i></a>
                  </td>
                </tr>
              </table>
              <p *ngIf="projectLocations.length == 0">No project sectors found.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </block-ui>
</div>